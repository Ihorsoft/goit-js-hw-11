{"version":3,"file":"commonHelpers5.js","sources":["../src/js/server.js"],"sourcesContent":["import \"../css/styles.css\"\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst BASE_URL = \"https://pixabay.com\";\nconst END_POINT = \"/api/\";\nconst keyUser = '43441081-c9c9daac9af91d4227dda2db1';\n\n// +++++++++++++++++++++++++++++++=======================\n\nconst formData = {\n    keySearch: \"\",\n  };\n\nconst form = document.querySelector(\".feedback-form\");\nconst galleryNew = document.querySelector(\".list\");\nconst loader = document.querySelector(\".loader\");\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);\n\noffLoading(loader);\n\n//++++++++++++++++++++++++++++++=======================\n\n function handleInput(event) {\n    const key = event.target.name;\n    formData[key] = event.target.value;\n    return formData.keySearch;\n} \n\n//++++++++++++++++++++++++==================================\n\nfunction onLoading(element) {\n  element.style.display = 'block';\n}\n\n//++++++++++++++++++++++++++++++++===========================\n\nfunction offLoading(element) {\n  element.style.display = 'none';\n}\n\n//++++++++++++++++++++++++++==============================\n\nfunction handleSubmit(event) {\n           event.preventDefault();\n           galleryNew.innerHTML = \"\";\n           onLoading(loader);\n  \n           if (formData.keySearch.trim() == \"\") {\n               offLoading(loader);\n               return iziToast.error({\n                   message: 'Sorry, there are no images matching your search query. Please try again!',\n                   position: 'bottomRight',\n                   messageColor: 'white',\n                   backgroundColor: 'red',\n                   progressBarColor: 'black',\n                 });\n             }\n     \n    getImages(keyUser, formData.keySearch)\n      .then(data => {\n           offLoading(loader);\n     \n           if (data.hits.length === 0) {   \n                offLoading(loader);\n                return iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'bottomRight',\n                messageColor: 'white',\n                backgroundColor: 'red',\n                progressBarColor: 'black',\n                    });\n                }  \n\n           galleryNew.insertAdjacentHTML(\"beforeend\", createGallery(data.hits));\n           gallery.refresh();\n           form.reset();\n           formData.keySearch = '';\n       })\n      .catch(error => {\n           hideLoading(loader);\n           iziToast.error({\n                message: `${error}`,\n           });\n       })\n      .finally(() => {\n           form.reset();\n      });\n        \n    }  \n\n       \n//+++++++++++++++++++++++++++++=============================\n\n    function getImages(keyUser, keyImage) {\n        const params = new URLSearchParams({\n            key: keyUser,\n            q: keyImage,\n            image_type: \"photo\",\n            orientation: 'horizontal',\n            safesearch: 'true',\n        });\n        const url = `${BASE_URL}${END_POINT}?${params}`;\n      return fetch(url)\n        .then(res => {\n          if (!res.ok) {\n            throw new Error(\n              \"Sorry, there are no images matching your search query. Please try again!\"\n            );\n           }\n          return res.json();\n        })\n        .catch(error => iziToast.error({message: `${error}`}));\n    }\n    //+++++++++++++++++++++++===============================\n       \n    function createGallery(arrObjPicture) {\n   \n      return arrObjPicture.map(\n        ({\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        previewURL,\n        largeImageURL,\n      }) =>\n            `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${previewURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n      <div class = \"wrapper\">\n                 <div class = \"parameters\">\n                 <span class =\"title\">Likes</span>\n                 <span class = \"info\">${likes}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Views</span>\n                 <span class = \"info\">${views}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Comments</span>\n                 <span class = \"info\">${comments}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Downloads</span>\n                 <span class = \"info\">${downloads}</span>\n                 </div>\n                 </div>\n</li>`).join(\"\");\n    }\n    \n   \n//+++++++++++++++++++++++++++++===================================\n\nlet gallery = new SimpleLightbox('.list a',\n    { \n        captionsData: \"alt\",\n        captionClass: \"text-center\",\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n    });\n\ngallery.on('show.simplelightbox', function () {\n\t\n});\n\ngallery.on('error.simplelightbox', function (e) {\n\tconsole.log(e); \n});\n\n\n   "],"names":["BASE_URL","END_POINT","keyUser","formData","form","galleryNew","loader","handleInput","handleSubmit","offLoading","event","key","onLoading","element","iziToast","getImages","data","createGallery","gallery","error","keyImage","params","url","res","arrObjPicture","tags","likes","views","comments","downloads","previewURL","largeImageURL","SimpleLightbox"],"mappings":"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"}